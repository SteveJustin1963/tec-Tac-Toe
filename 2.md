```
// Initialize the game board with cell numbers (1-9)
[ 1 2 3 4 5 6 7 8 9 ] b !

// Set the player's marker to 1 and the computer's marker to 2
1 p !
2 c !

// Function to print the game board
:P
  9 (
    b /i ? n !
    n 1 >= n 9 <= & (
      n .                      // Print cell number
    ) /E (
      n p = (
        `X` .
      ) /E (
        `O` .
      )
    )
    /i 1 + t !
    t 3 % 0 = (
      /N                       // Newline after every 3 cells
    ) /E (
      `|` .                    // Separator between cells
    )
  )
;

// Function to get the player's move
:G
  `Your move (1-9): ` . /K n !
  n 48 - n !                   // Convert ASCII code to number
  n 1 >= n 9 <= & (
    n 1 - i !                  // Adjust index to 0-based
    b i ? n = (
      p b i !                  // Place the player's marker
    ) /E (
      `Position occupied, try again.` . /N
      G                        // Retry input
    )
  ) /E (
    `Invalid move, try again.` . /N
    G                          // Retry input
  )
;

// Function for the computer's move
:M
  9 (
    b /i ? n !
    n 1 >= n 9 <= & (
      c b /i !                 // Place the computer's marker
      `Computer moves to position ` /i 1 + . /N
      /U /W                    // Exit loop after moving
    )
  )
;

// Function to check for a winner or a tie
:C
  // Winning combinations flattened into a single array
  [ 0 1 2 3 4 5 6 7 8          // Rows and columns indices
    0 3 6 1 4 7 2 5 8
    0 4 8 2 4 6 ] w !

  8 (                          // Loop through each winning combination
    w /i 3 * + ? a !
    w /i 3 * 1 + + ? b !
    w /i 3 * 2 + + ? c !
    b a ? m !
    b b ? n !
    b c ? o !
    m n = m o = & (
      m p = ( `Player wins!` . /T /U /W ) /E (
      m c = ( `Computer wins!` . /T /U /W )
      )
    )
  )
  // Check for tie
  9 (
    b /i ? n !
    n 1 >= n 9 <= & (
      /U /W                    // Exit function; game is not a tie yet
    )
  )
  `It's a tie!` . /T /U /W     // If loop completes, it's a tie
  /F                           // No winner yet; continue game
;

// Main game loop
:S
  `TIC TAC TOE` . /N
  P                            // Print the initial board
  /U (
    G                          // Get player's move
    P                          // Print the board
    C /T = ( /U /W )           // If game over, exit loop
    M                          // Computer's move
    P                          // Print the board
    C /T = ( /U /W )           // If game over, exit loop
  )
  `Game over.` . /N
;

// Start the game
S

```
